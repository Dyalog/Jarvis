
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../img/favicon-32.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Print - Jarvis</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../css/main.css">
    
    <script>__md_scope=new URL("/",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();
        })
        </script>
        </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Jarvis" class="md-header__button md-logo" aria-label="Jarvis" data-md-component="logo">
      
  <img src="../img/dyalog-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Jarvis
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Print
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/dyalog/Jarvis" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Dyalog/Jarvis
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Jarvis" class="md-nav__button md-logo" aria-label="Jarvis" data-md-component="logo">
      
  <img src="../img/dyalog-white.svg" alt="logo">

    </a>
    Jarvis
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dyalog/Jarvis" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Dyalog/Jarvis
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Usage" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/" class="md-nav__link">
        Concepts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../using/" class="md-nav__link">
        Using Jarvis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../json/" class="md-nav__link">
        JSON Paradigm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rest/" class="md-nav__link">
        REST Paradigm
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_1">
          Settings
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Settings" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Settings
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings-overview/" class="md-nav__link">
        Settings Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings-operational/" class="md-nav__link">
        Operational Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings-session/" class="md-nav__link">
        Session Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings-json/" class="md-nav__link">
        JSON Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings-rest/" class="md-nav__link">
        REST Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings-hooks/" class="md-nav__link">
        User Hooks Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings-conga/" class="md-nav__link">
        Conga-Related Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings-cors/" class="md-nav__link">
        CORS Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings-container/" class="md-nav__link">
        Container Settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings-shared/" class="md-nav__link">
        Shared Settings
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2">
          Methods
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Methods" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Methods
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../methods-shared/" class="md-nav__link">
        Shared Methods
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../methods-instance/" class="md-nav__link">
        Instance Methods
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../request/" class="md-nav__link">
        Request
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/" class="md-nav__link">
        Reference Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4">
          Advanced Topics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Advanced Topics" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Advanced Topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sessions/" class="md-nav__link">
        Using Sessions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        Docker Integration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../LICENSE/" class="md-nav__link">
        License
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/" class="md-nav__link">
        Release Notes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Print
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Print
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    Concepts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using" class="md-nav__link">
    Using Jarvis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json" class="md-nav__link">
    JSON Paradigm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest" class="md-nav__link">
    REST Paradigm
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-reference" class="md-nav__link">
    Reference
  </a>
  
    <nav class="md-nav" aria-label="Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    Reference Guide
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-advanced-topics" class="md-nav__link">
    Advanced Topics
  </a>
  
    <nav class="md-nav" aria-label="Advanced Topics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    Security
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sessions" class="md-nav__link">
    Using Sessions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    Docker Integration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-about" class="md-nav__link">
    About
  </a>
  
    <nav class="md-nav" aria-label="About">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#release-notes" class="md-nav__link">
    Release Notes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    Concepts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using" class="md-nav__link">
    Using Jarvis
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json" class="md-nav__link">
    JSON Paradigm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest" class="md-nav__link">
    REST Paradigm
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-reference" class="md-nav__link">
    Reference
  </a>
  
    <nav class="md-nav" aria-label="Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    Reference Guide
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-advanced-topics" class="md-nav__link">
    Advanced Topics
  </a>
  
    <nav class="md-nav" aria-label="Advanced Topics">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    Security
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sessions" class="md-nav__link">
    Using Sessions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    Docker Integration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-about" class="md-nav__link">
    About
  </a>
  
    <nav class="md-nav" aria-label="About">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#release-notes" class="md-nav__link">
    Release Notes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<div id="print-site-page" class="">
        <section id="print-site-cover-page">
            
<div>

    
        <h1>Jarvis</h1>
    

</div>


<table>

    

    

    
    <tr>
        <td>Repository</td>
        <td><a href="https://github.com/dyalog/Jarvis">https://github.com/dyalog/Jarvis</a></td>
    </tr>
    

    
    <tr>
        <td>Copyright</td>
        <td><div class="left">Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"><strong>Material for MkDocs</strong></a>.&nbsp;</div><div class="right">Contents copyright &copy;2015-2024 <strong><a href="https://dyalog.com" target="_blank" rel="noopener">Dyalog, LTD</a></strong></div></td>
    </tr>
    

</table>





        </section>
        <section class="print-page" id="index"><div class="admonition note">
<p class="admonition-title">Note</p>
<p>This documentation continues to be a work in progress.  General usage and settings references are complete. Frequent updates will be forthcoming as additional sections are completed.</p>
</div>
<p><strong>Jarvis</strong> is an HTTP server that makes it easy to create a web service to provide access to your APL code from the web or a local network.</p>
<p>Any client program written in any language on any platform that can process HTTP requests can access  a Jarvis-based web service. This vastly increases the potential audience for your application - the client can be a standard web browser, a phone app, a browser-based app, or a custom client written in a language like Python or C# and yes, even APL.</p>
<h2 id="index-introduction">Introduction</h2>
<p>The name <strong>Jarvis</strong> is a pseudo-acronym for <strong>J</strong>SON <strong>a</strong>nd <strong>R</strong>EST Ser<strong>vice</strong> ("vice" becomes "vis") and was also inspired by J.A.R.V.I.S. (Just A Rather Very Intelligent System) from the <a href="https://en.wikipedia.org/wiki/J.A.R.V.I.S.">Marvel Cinematic Universe</a>. </p>
<p><strong>Formatting Note:</strong> You may notice that the name "Jarvis" is formatted in two, possibly three, different ways:</p>
<ul>
<li><strong>Jarvis</strong> refers Jarvis as an abstract idea</li>
<li><code>Jarvis</code> refers to the Dyalog APL Jarvis class</li>
<li>Jarvis (unadorned) is probably the author's mistake for not having formatted the occurrence as one of the above.</li>
</ul>
<h2 id="index-design-goals">Design Goals</h2>
<p><strong>Jarvis</strong> is designed to make it very easy for an APLer to create web services without requiring in-depth knowledge of web service frameworks. In designing <strong>Jarvis</strong> we've attempted to</p>
<ul>
<li>Make <strong>Jarvis</strong>' default behavior simple and applicable to many use cases</li>
<li>Make few assumptions about what the user actually needs to do</li>
<li>Provide hooks to allow the user to tailor or extend <strong>Jarvis</strong>' behavior if needed</li>
</ul>
<h2 id="index-create-an-apl-web-service-in-5-minutes">Create an APL Web Service in 5 Minutes</h2>
<p>If you know how to write a monadic, result-returning APL function, you're ready to run your first <strong>Jarvis</strong>-based web service.  Here's how:</p>
<ol>
<li>
<p>If you already have a copy of the <code>Jarvis</code> class, skip to step 3.  Otherwise, load the <code>HttpCommand</code> utility so that we can download a copy of <strong>Jarvis</strong> and also use <code>HttpCommand</code> for testing our web service.</p>
<pre><code>      ]load HttpCommand
</code></pre>
</li>
<li>
<p>Next, download a copy of Jarvis. Note, the following statement downloads the latest, perhaps pre-release, version of the Jarvis class for this quick demonstration. For a production environment, you should use a <a href="https://github.com/Dyalog/Jarvis/releases">released version of Jarvis</a>. <code>HttpCommand.Fix</code> both downloads and runs <code>⎕FIX</code> on an APL code file from the web.</p>
<pre><code>      HttpCommand.Fix 'https://raw.githubusercontent.com/Dyalog/Jarvis/master/Source/Jarvis.dyalog'
</code></pre>
</li>
<li>
<p>Write one or more monadic, result-returning APL functions. For instance:</p>
<pre><code>      )cs #
      sum ← {+/⍵}                       ⍝ dfns work
      total ← +/                        ⍝ derived functions work
      ⎕FX '∇r←addemup a' 'r←+/a' '∇'    ⍝ and of course, tradfns work
</code></pre>
</li>
<li>
<p>Next, create an instance of <code>Jarvis</code> using <code>Jarvis.New</code>. </p>
<pre><code>      j←Jarvis.New ''
</code></pre>
<p>This will create a <code>Jarvis</code> instance with all settings set to their default values. By default, <code>Jarvis</code> will use port 8080 and look for your endpoint code in <code>#</code>.</p>
</li>
<li>
<p>You can now run your web service running on port 8080 and serving code from the # (root) namespace.  </p>
<div class="highlight"><pre><span></span><code>      (rc msg)←j.Start
2024-09-06 @ 15.46.24.199 - Starting  Jarvis  1.18.1 
2024-09-06 @ 15.46.24.217 - Conga copied from C:\Program Files\Dyalog\Dyalog APL-64 19.0 Unicode/ws/conga
2024-09-06 @ 15.46.24.221 - Local Conga v3.5 reference is #.Jarvis.[LIB]
2024-09-06 @ 15.46.24.231 - Jarvis starting in &quot;JSON&quot; mode on port 8080
2024-09-06 @ 15.46.24.232 - Serving code in #
2024-09-06 @ 15.46.24.237 - Click http://192.168.001.123:8080 to access web interface
</code></pre></div>
</li>
</ol>
<p>If the server started successfully, you'll see messages similar to those above displayed to the APL session and the return code <code>rc</code> should be <code>0</code> and <code>msg</code> should be empty.  If there was any problem starting <code>Jarvis</code>, <code>rc</code> will be non-<code>0</code> and <code>msg</code> will contain a (hopefully) helpful message about the problem that occurred.</p>
<p>Now, let's test our service using <strong>Jarvis</strong>' built-in HTML interface. You could click on the link displayed or open your favorite browser to http://localhost:8080, but just for fun, we'll use Dyalog's HTMLRenderer object.</p>
<pre><code>       'h' ⎕WC 'HTMLRenderer' ('URL' 'localhost:8080')
</code></pre>
<p><img alt="Jarvis Sample" src="../img/sample.png" /></p>
<p>We select the Endpoint (APL function) we want from the drop down list, enter some valid JSON data (<code>[1,3,5]</code>), and press Send to send the request to <strong>Jarvis</strong>.  <strong>Jarvis</strong>' response is then sent back and displayed.</p>
<p>We can also use <code>HttpCommand</code> to call the web service.</p>
<pre><code>      (url data headers)←'localhost:8080/total' '[1,3,5]' ('content-type' 'application/json')
      (HttpCommand.Do 'POST' url data headers).Data
9
</code></pre>
<p>We can use the cURL command to call the web service.</p>
<pre><code>C:\&gt; curl -H "content-type: application/json" -X POST -d [1,3,5] http://localhost:8080/addemup
9
</code></pre>
<p>To stop the service, simply type <code>j.Stop</code></p>
<p>Interested?  Read on...</p></section>
                        <h1 class='nav-section-title' id='section-usage'>
                            Usage <a class='headerlink' href='#section-usage' title='Permanent link'>↵</a>
                        </h1>
                        <section class="print-page" id="concepts"><h1 id="concepts-conceptual-overview">Conceptual Overview</h1>
<p><strong><em>Jarvis</em></strong> is implemented as a Dyalog APL class. It's okay if you're not familiar with the <a href="https://docs.dyalog.com/latest/Dyalog%20Programming%20Reference%20Guide.pdf#%5B%7B%22num%22%3A846%2C%22gen%22%3A0%7D%2C%7B%22name%22%3A%22XYZ%22%7D%2C0%2C714%2C0%5D">object oriented features of Dyalog</a>. All you really need to understand is that a <strong><em>Jarvis</em></strong> server is an "instance" of the <code>Jarvis</code> class. You create an instance of the class and then configure and run the instance. This is covered in <a href="#using">Using Jarvis</a>.</p>
<h2 id="concepts-terminology">Terminology</h2>
<p><strong><em>Jarvis</em></strong> supports two different "paradigms" which define how the client will interact witht the <strong><em>Jarvis</em></strong> service. This section defines some terms that we will use in the discussion below about <strong><em>Jarvis</em></strong> paradigms. </p>
<h3 id="concepts-client">Client</h3>
<p>This is the component sending a request to the <strong><em>Jarvis</em></strong> service and receiving <strong><em>Jarvis</em></strong>' response. The client can be anything that can send HTTP requests and receive HTTP responses.  It could be a web browser, a program, an app on a mobile phone, another server, and so on.</p>
<h3 id="concepts-url-or-uri">URL (or URI)</h3>
<p>The URL (Universal Resource Locator) or URI (Universal Resource Identifier) is the address, possibly including query parameters, which is sent to <strong><em>Jarvis</em></strong>. A URL has the general format:
<div class="highlight"><pre><span></span><code>[scheme://][userinfo@]host[:port][/path][?query]
</code></pre></div>
<code>scheme</code> is either <code>http</code> or <code>https</code>.<br/>
<code>userinfo@</code> is HTTP Basic authentication user credentials if authentication is being used.<br/>
<code>host</code> is the <strong><em>Jarvis</em></strong> server domain name or IP address.<br/>
<code>port</code> is the optional port number. It defaults to 80 for <code>http</code> or 443 for <code>https</code>.<br/>
<code>path</code> is the endpoint for the request.<br/>
<code>query</code> are the query parameters, if any, for the request.</p>
<h3 id="concepts-http-method">HTTP method</h3>
<p>The HTTP protocol defines several request "methods" that a client may use to request the server to perform different operations. When you open a web browser on a URL, the browser is typically using the <strong>GET</strong> HTTP method to retrieve the requested content. Other HTTP methods include POST, PUT, DELETE, PATCH, and HEAD; each one designed to indicate the operation the server should perform.</p>
<h3 id="concepts-json">JSON</h3>
<p>JSON stands for <strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation and is a flexible notation for representing data arrays and objects. Dyalog APL has a system function, <code>⎕JSON</code>, which easily converts between JSON and APL arrays/namespaces.</p>
<h3 id="concepts-rest">REST</h3>
<p>REST stands for <strong>RE</strong>presentational <strong>S</strong>tate <strong>T</strong>ransfer and is a design pattern for APIs. An API that follows this design pattern is termed "RESTful". When a RESTful API is called, the server will transfer to the client a representation of the state of the requested resource.</p>
<h2 id="concepts-paradigms">Paradigms</h2>
<p><strong><em>Jarvis</em></strong> supports two operational paradigms that we term <strong>JSON</strong> and <strong>REST</strong>. A <strong><em>Jarvis</em></strong> server can run only one paradigm at a time. One of the first decisions you'll need to make when using <strong><em>Jarvis</em></strong> is which web service paradigm to use. The paradigm will determine protocol for how a client will interact with <strong><em>Jarvis</em></strong>. This section provides information to help you decide which paradigm is most appropriate for your application.</p>
<h3 id="concepts-the-json-paradigm">The JSON paradigm</h3>
<p>The JSON paradigm may seem quite natural to the APLer in that the endpoints (functions) take a data argument and return a data result. The argument and result can be as complex as you like, provided that they can be represented using JSON.</p>
<ul>
<li>The endpoints are the names of APL functions that are called to satisfy the request.  You can specify which functions you want to expose as endpoints for your service to the client.</li>
<li>The client uses the HTTP POST method and passes the parameters for the request as JSON in the request body.</li>
<li>The payload (body) of the request is automatically converted by <strong><em>Jarvis</em></strong> from JSON to an APL array and passed as the right argument to your function.</li>
<li>Your function should return an APL array which <strong><em>Jarvis</em></strong> then converts to JSON and returns to the client in the response.</li>
<li>Your application needs to know nothing about JSON, HTTP or web services.</li>
</ul>
<h3 id="concepts-the-rest-paradigm">The REST paradigm</h3>
<p>RESTful web services use standard HTTP methods to perform operations on resources.  A resource (endpoint) is the <code>path</code> in the request's URL.  The resource could be a physical resource like a file or a virtual resource that is constructed dynamically by your code. There are several other <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">"RESTful  design"</a> principles or constraints, but they are beyond the scope of this document.</p>
<ul>
<li>Operations are typically implemented corresponding to standard HTTP methods:<ul>
<li>GET – read a resource</li>
<li>POST – create a resource</li>
<li>PUT – update/replace a resource</li>
<li>PATCH – update/modify a resource</li>
<li>DELETE – delete a resource</li>
</ul>
</li>
<li>With <strong><em>Jarvis</em></strong>, you specify which methods you want your service to support.</li>
<li>You then implement an APL function with the same name as each method.</li>
<li>Resources are specified in the <code>path</code> of the request URL.  </li>
<li>Depending on how you design the service API, parameters, if any, can be passed in the URL,  the query string, the body of the request, or some combination thereof.</li>
<li>The function you write is passed the request object and it's up to you to parse the URL, payload, headers, and query parameters to determine what to do and what the arguments are.</li>
<li>You decide on the content type and format of the payload of the response.  Common response content types for RESTful web services are JSON, XML or HTML.</li>
<li>In general, the <strong>JSON</strong> paradigm is quicker and easier to implement, but a properly implemented <strong>REST</strong> paradigm </li>
</ul>
<h3 id="concepts-json-contrasted-with-rest">JSON contrasted with REST</h3>
<p>In many cases, the same functionality can be implemented using either paradigm.</p>
<p>With <strong>JSON</strong>, endpoints are the names of APL functions that you want to expose with your web service.  You write one APL function per operation you want to perform.</p>
<p>With <strong>REST</strong>, endpoints identify resources and the HTTP method determines the operation to perform on the resource. You write one APL function for each HTTP method your web service will support.</p>
<p>To compare the two paradigms, let's imagine you want to retrieve the total of invoice 45 for customer 231.</p>
<h4 id="concepts-json-example">JSON Example</h4>
<p>One way to implement this using the JSON paradigm might be to:</p>
<ul>
<li _customer_:231_invoice_:45="&quot;customer&quot;:231,&quot;invoice&quot;:45">specify that the client should provide the arguments as a JSON object with a "customer" element and an "invoicenum" element. For this example, it might look like </li>
<li>write an APL function called <code>GetInvoiceTotal</code> which would take a namespace as its argument.  The namespace will contain elements named "customer" and "invoice"
<div class="highlight"><pre><span></span><code>       ∇ namespace← GetInvoiceTotal namespace;costs
    [1]   ⍝ the namespace argument was created by Jarvis from the JSON object in the request
    [2]    costs←namespace.customer GetInvoiceItems namespace.invoice ⍝ retrieve the invoice item costs pseudo-code
    [3]    namespace.total←+/costs ⍝ insert a total element into the namespace  
       ∇
</code></pre></div></li>
<li><strong><em>Jarvis</em></strong> will then convert the result, in this case the updated namespace, to JSON <code>{"customer":231,"invoicenum":45,"total":654.32}</code> and return it to the client</li>
</ul>
<h4 id="concepts-rest-example">REST Example</h4>
<p>Using the REST paradigm, you might specify a resource like <code>/customer/231/invoice/45/total</code>. Since this is a "read" operation, you would use the HTTP GET method to retrieve it.<br />
- You would write a function named <code>GET</code> (the same as the HTTP method) which would be passed the HTTP request object. The <code>Endpoint</code> element of the request object will be <code>'/customer/231/invoice/45/total'</code>. 
- Your function would need to parse the endpoint to determine what is being requested and then retrieve the information.
- Your function would set the content-type for the response payload as well as format the retrieved information and assign it to the payload.</p></section><section class="print-page" id="using"><h2 id="using-best-practices">Best Practices</h2>
<p>For all but the simplest of <strong>Jarvis</strong>-based services, we recommend:</p>
<ul>
<li>Store the code that implements your endpoints in text files which Jarvis will load upon startup. Set the <code>CodeLocation</code> configuration setting to the folder name that contains the text files.</li>
<li>Use a <strong>Jarvis</strong> configuration file to specify all non-default configuration settings. </li>
</ul>
<h2 id="using-core-usage-pattern">Core Usage Pattern</h2>
<p>There are four basic steps to running a <strong>Jarvis</strong> service.</p>
<ol>
<li>Write the APL code which implements the endpoints of your service.</li>
<li>Create an instance of the <code>Jarvis</code> class.</li>
<li>Configure the instance.</li>
<li>Run the instance.</li>
</ol>
<p>Everything else - from running the service locally to deploying it as a secure, cloud-hosted, load-balanced service is built on upon these four steps.</p>
<h3 id="using-write-the-apl-code-that-implements-the-endpoints">Write the APL code that implements the endpoints</h3>
<p>The <strong>Jarvis</strong> paradigm you choose (JSON or REST) will determine how to write your endpoints.</p>
<ul>
<li><strong>JSON</strong> - you will write an APL function to implement each endpoint. The function name is the endpoint name.  See the <a href="#json">JSON Paradigm</a> section for more information.</li>
<li><strong>REST</strong> - you will write an APL function for each HTTP method your service will support.  The function name is the same as the HTTP method name. See the <a href="#rest">REST Paradigm</a> section for more information.</li>
</ul>
<h3 id="using-create-an-instance-of-the-jarvis-class">Create an instance of the <code>Jarvis</code> class</h3>
<p>While you can use the <code>⎕NEW</code> system function to create an instance of <code>Jarvis</code>, the recommended technique is to use <code>Jarvis.New</code>.</p>
<p><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j←Jarvis.New args</code></p>
<p><code>args</code> can be one of:</p>
<ul>
<li><code>''</code> - create the instance using the default settings. Any non-default settings that you plan to use will need to be set before starting the instance.</li>
<li><code>'path-to-a-Jarvis-config-file'</code> - create the instance using the settings specified in a <strong>Jarvis</strong> config file. A <strong>Jarvis</strong> config file is a JSON (or JSON5) file that contains <strong>Jarvis</strong> configuration settings.</li>
<li><code>namespace-reference</code> - create the instance using the named settings contained in a namespace. The namespace can contain only variables with names of <strong>Jarvis</strong> configuration settings.</li>
<li>A positional vector of up to 4 elements containing <code>Port CodeLocation 'Paradigm' 'JarvisConfig'</code>.  You do not need to provide all parameters - only those up to the last parameter you need to use.  For instance, if you need to specify <code>'REST'</code> as the paradigm, you'll also need to supply <code>Port</code> and <code>CodeLocation</code>.   </li>
</ul>
<p>Note that you can always set additional configuration settings after creating the instance with any of the above methods (but before running the instance).</p>
<p>Assuming that the file <code>/JarvisConfig.json</code> contains:<br/>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{"Port":80, "CodeLocation":"/myJarvisApp/", "Paradigm":"REST"}</code><br/>
and<br/>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;namespace←⎕JSON ⊃⎕NGET '/JarvisConfig.json'</code><br/>
the following are equivalent.
<div class="highlight"><pre><span></span><code>j←Jarvis.New &#39;&#39; ⋄ j.(Port CodeLocation Paradigm)←80 &#39;/myJarvisApp&#39; &#39;REST&#39;
j←Jarvis.New &#39;/JarvisConfig.json&#39;
j←Jarvis.New namespace
j←Jarvis.New 80 &#39;/myJarvisApp/&#39; &#39;REST&#39;
</code></pre></div></p>
<h4 id="using-codelocation"><code>CodeLocation</code></h4>
<p><code>CodeLocation</code> specifies where <strong>Jarvis</strong> should look for the code that implements your endpoints. It can be</p>
<ul>
<li>a reference to, or the name of, a namespace in the workspace. For example, either <code>#.MyApp</code> and <code>'#.MyApp'</code> will work if your application code is in the namespace <code>#.MyApp</code>.</li>
<li>a character vector representing the path to the folder that contains your application code.  If the path is relative, <strong>Jarvis</strong> attempts to determine the root folder from which to the path is relative to what it's relative to as follows:<ul>
<li>If <strong>Jarvis</strong> is running in a saved workspace, it uses the folder where the workspace is located.</li>
<li>Otherwise, if you have specified a <strong>Jarvis</strong> config file, <strong>Jarvis</strong> will use the folder where the config file is located.</li>
<li>Otherwise, if <strong>Jarvis</strong> can determine the path for its source file, it will use that.</li>
<li>Finally, it will default to the current folder for your Dyalog session as determined by  <code>(1 ⎕NPARTS '')</code>. 
Using a relative path can be useful for making your <strong>Jarvis</strong> service more portable, but it's important to make sure to understand the process above. For instance, if you have been running <strong>Jarvis</strong> from a <code>CLEAR WS</code> by dynamically loading it and then you save your application to a named workspace, <strong>Jarvis</strong> could wind up looking in a potentially different folder if the workspace is stored elsewhere than the <strong>Jarvis</strong> config file.</li>
</ul>
</li>
</ul>
<h3 id="using-configure-the-jarvis-instance">Configure the <code>Jarvis</code> instance</h3>
<p>Having created a <code>Jarvis</code> instance, you can set any configuration parameter prior to starting the instance.  This includes being able to override parameters that may have been loaded from a <strong>Jarvis</strong> config file. Details about each of the parameters can be found in <a href="#settings-overview">Settings</a>.</p>
<h3 id="using-run-the-jarvis-instance">Run the <code>Jarvis</code> instance</h3>
<p>Use <code>j.Start</code> to start the <code>Jarvis</code> instance. Use <code>j.Stop</code> to stop <code>Jarvis</code>. You can run <code>j.Start</code> again to restart <code>Jarvis</code>. </p></section><section class="print-page" id="json"><p><strong>Jarvis</strong>'s JSON paradigm was developed to make it easy to expose the functionality of your APL application as a web service. The endpoints of your service are simply APL functions that take an array as a right argument and return an error as a result.</p>
<h2 id="json-how-jarviss-json-mode-works">How <strong>Jarvis</strong>'s JSON mode works</h2>
<h3 id="json-you-write-an-apl-function-for-each-endpoint-of-your-service">You write an APL function for each endpoint of your service</h3>
<p>Each endpoint function should at a minimum take an APL array as a right argument and return an APL array as its result. The name of the endpoint is the name of your function - so, it's best to not use characters in your endpoint function names that aren't easily supported in URLs. Your functions should reside in the namespace specified by [`CodeLocation] </p>
<h3 id="json-the-client-sends-a-request">The client sends a request</h3>
<p>It doesn't matter what the client is - it could be a browser, an app on a phone, Dyalog's <code>HttpCommand</code>, curl, or any program capable of sending and receiving HTTP messages. To call one of your service's endpoints, the client's request should:</p>
<ul>
<li>Specify the </li>
<li>Use the HTTP POST method in order to send the request payload.</li>
<li>Include a <code>content-type: application/json</code> header in the request's headers. </li>
<li>Format its payload as JSON.</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><code>curl -H "content-type: application/json" -X POST -d [1,3,5] http://localhost:8080/sum</code></p>
</div>
<div class="admonition tip">
<p class="admonition-title">Advanced Usage</p>
<ul>
<li>The <a href="#settings-operational-allowgets"><code>AllowGETs</code></a> setting will enable HTTP GET method to be used as well - by default <code>AllowGETs</code> is disabled. </li>
<li>The <a href="#settings-operational-allowformdata"><code>AllowFormData</code></a> setting will enable <code>Jarvis</code> to receive payloads that use <code>content-type: multipart/form-data</code> - by default <code>AllowFormData</code> is disabled.</li>
</ul>
</div>
<h3 id="json-jarvis-receives-the-request"><code>Jarvis</code> receives the request</h3>
<p>When <code>Jarvis</code> receives the request, it verifies that the request is well-formed. If there is a problem parsing the request, <code>Jarvis</code> will respond to the client with a 400-series HTTP status code and message. Assuming the request is well-formed, <code>Jarvis</code> will convert the request's JSON payload to an APL array using <code>⎕JSON</code>.</p>
<h3 id="json-jarvis-calls-your-endpoint-function"><code>Jarvis</code> calls your endpoint function</h3>
<p><code>Jarvis</code> passes the APL array as the right argument to your endpoint function.  If your function is dyadic or ambivalent, <code>Jarvis</code> will pass the <a href="#reference-httprequest"><code>HttpRequest</code></a> object as the left argument. Your function should return an APL array result.</p>
<div class="admonition tip">
<p class="admonition-title">Advanced Usage</p>
<p><strong>Jarvis</strong> has a few specific places where you can "inject" your own APL code to perform actions like additional request validation, authentication, and so on. Two such places are available after <code>Jarvis</code> receives the request, but before calling your endpoint function.  These are:</p>
<ul>
<li><a href="#settings-hooks-validaterequestfn"><code>ValidateRequestFn</code></a> specifies the name of a function to call for every request that <code>Jarvis</code> receives.</li>
<li><a href="#settings-hooks-authenticatefn"><code>AuthenticateFn</code></a> specified the name of a function to call to perform authentication. </li>
</ul>
</div>
<h3 id="json-jarvis-sends-the-response-to-the-client"><code>Jarvis</code> sends the response to the client</h3>
<p><code>Jarvis</code> will convert the APL array result into JSON format using <code>⎕JSON⍠'HighRank' 'Split'</code> and send the JSON back to the client as the payload of the response.</p></section><section class="print-page" id="rest"><p><strong>Jarvis</strong>'s REST paradigm was developed to make it possible to deploy your APL application using a REST API. REST APIs are more applicable when managing a collection of resources. HTTP-based REST web services, like <strong>Jarvis</strong>, use standard HTTP methods (GET, POST, PUT, DELETE, etc) to create, retrieve, and manipulate resources.</p>
<p>There are <a href="https://en.wikipedia.org/wiki/REST#Architectural_constraints">six guiding principles of REST</a>. The degree to which you adhere to these principles is completely up to you.</p>
<h2 id="rest-how-jarviss-rest-mode-works">How <strong>Jarvis</strong>'s REST mode works</h2>
<h3 id="rest-you-write-an-apl-function-for-each-http-method-your-service-will-support">You write an APL function for each HTTP method your service will support</h3>
<p>Rather than writing a function for each endpoint as in the JSON paradigm, you will write a monadic function for each of the HTTP methods that your web service will support. Your functions should reside in the namespace specified by <a href="#settings-operational-codelocation"><code>CodeLocation</code></a>. </p>
<p>You specify which HTTP methods your REST service will support using the <a href="#settings-rest-restmethods"><code>RESTMethods</code></a> setting. For instance, setting <code>RESTMethods←'Get'</code> indicates that your service will support only HTTP GET requests. Such requests will call the <code>#.CodeLocation.Get</code> function, passing the HTTP request as its right argument. For the purposes of this document, we'll call the request right argument <code>Request</code>.</p>
<p>Your <code>Get</code> function would then look at the resource being requested by parsing <a href="#request-endpoint"><code>Request.Endpoint</code></a> element. If <a href="#settings-operational-defaultcontenttype"><code>DefaultContentType</code></a> is set to <code>'application/json'</code> (the default), your function can return an APL array which <code>Jarvis</code> will convert to JSON. If you are not using <code>'application/json'</code>, then you will need to:</p>
<ol>
<li>use <a href="#request-contenttype"><code>Request.SetContentType</code></a> to set an appropriate content type</li>
<li>set the <code>Request.Response.Payload</code> to the content you want to send back to the client</li>
</ol>
<h3 id="rest-the-client-sends-a-request">The client sends a request</h3>
<p>It doesn't matter what the client is - it could be a browser, an app on a phone, Dyalog's <code>HttpCommand</code>, curl, or any program capable of sending and receiving HTTP messages. To interact with a resource, the client should:</p>
<ul>
<li>Specify the resource in the request URL</li>
<li>Specify the HTTP method appropriate to the operation being requested</li>
<li>If the request includes a payload, specify an appropriate <code>content-type</code> header </li>
</ul>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>To retrieve a hypothetical list of orders for customer with id 123, one might make a request like: 
<code>resp←HttpCommand.Get 'http://localhost:8080/customers/123/orders'</code></p>
</div>
<h3 id="rest-jarvis-receives-the-request"><code>Jarvis</code> receives the request</h3>
<p>When <code>Jarvis</code> receives the request, it verifies that the request is well-formed. If there is a problem parsing the request, <code>Jarvis</code> will respond to the client with a 400-series HTTP status code and message.</p>
<h3 id="rest-jarvis-calls-your-method-function"><code>Jarvis</code> calls your method function</h3>
<p><code>Jarvis</code> passes the <a href="#reference-request"><code>Request</code></a> object as the right argument to the function appropriate for the HTTP method being used. It is up to your function to parse <code>Request.Endpoint</code> to determine the resource being requested. As noted above, if the response payload's <code>content-type</code> is <code>'application/json'</code> your function can return an APL array which <code>Jarvis</code> will automatically convert to JSON. Otherwise, your function is responsible for setting the <code>Request.Response.Payload</code> and <code>Request.ContentType</code> appropriately.</p>
<p>If the requested resource is not found, or some other issue occurs, your function should fail the request with an appropriate HTTP status code using <a href="#request-fail"><code>Request.Fail</code></a>. For example, an HTTP status code of 404 means that the requested resource was not found and you would use <code>Request.Fall 404</code> to set the status code.</p>
<div class="admonition tip">
<p class="admonition-title">Advanced Usage</p>
<p><strong>Jarvis</strong> has a few specific places where you can "inject" your own APL code to perform actions like additional request validation, authentication, and so on. Two such places are available after <code>Jarvis</code> receives the request, but before calling your function.  These are:</p>
<ul>
<li><a href="#settings-hooks-validaterequestfn"><code>ValidateRequestFn</code></a> specifies the name of a function to call for every request that <code>Jarvis</code> receives.</li>
<li><a href="#settings-hooks-authenticatefn"><code>AuthenticateFn</code></a> specified the name of a function to call to perform authentication. </li>
</ul>
</div>
<h3 id="rest-jarvis-sends-the-response-to-the-client"><code>Jarvis</code> sends the response to the client</h3>
<p><code>Jarvis</code> will format a proper HTTP response and send it to the client.</p></section><h1 class='nav-section-title-end'>Ended: Usage</h1>
                        <h1 class='nav-section-title' id='section-reference'>
                            Reference <a class='headerlink' href='#section-reference' title='Permanent link'>↵</a>
                        </h1>
                        
                        <h2 class='nav-section-title' id='section-settings'>
                            Settings <a class='headerlink' href='#section-settings' title='Permanent link'>↵</a>
                        </h2>
                        <section class="print-page" id="settings-overview"><p>The settings documentation is broken up into groups of related settings as follows.</p>
<table>
<thead>
<tr>
<th>Group</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#settings-operational">Operational</a></td>
<td>Settings related to the operation of the <code>Jarvis</code> server. Examples include <a href="#settings-operational-codelocation"><code>CodeLocation</code></a>, <a href="#settings-operational-jarvisconfig"><code>JarvisConfig</code></a> and <a href="#settings-operational-paradigm"><code>Paradigm</code></a>.</td>
</tr>
<tr>
<td><a href="#settings-conga">Conga</a></td>
<td>Settings specific to Conga, Dyalog's TCP/IP framework.</td>
</tr>
<tr>
<td><a href="#settings-json">JSON Mode</a></td>
<td>Settings specific to running a <strong>Jarvis</strong> service in JSON mode.</td>
</tr>
<tr>
<td><a href="#settings-rest">REST Mode</a></td>
<td>Settings specific to running a <strong>Jarvis</strong> service in REST mode.</td>
</tr>
<tr>
<td><a href="#settings-session">Session</a></td>
<td>Settings related to using sessions with <code>Jarvis</code> to maintain server-side state.</td>
</tr>
<tr>
<td><a href="#settings-hooks">User Hooks</a></td>
<td>Settings that allow you to specify "hook" functions to perform tasks like application initialization, session initialization, and authentication.</td>
</tr>
<tr>
<td><a href="#settings-container">Container</a></td>
<td>Settings related to running a <strong>Jarvis</strong> service in a containerized environment like Docker.</td>
</tr>
<tr>
<td><a href="#settings-cors">CORS</a></td>
<td>Settings related to Cross Origin Resource Sharing which can enable calls to your <strong>Jarvis</strong> service to be made from webpages in other domains.</td>
</tr>
<tr>
<td><a href="#settings-shared">Shared</a></td>
<td>Settings that are shared by all instances of <strong>Jarvis</strong>.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="settings-operational"><h3 id="settings-operational-codelocation"><code>CodeLocation</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td>Prior to starting a <code>Jarvis</code> instance, <code>CodeLocation</code> specifies where <code>Jarvis</code> will look for your endpoint code. <code>CodeLocation</code> can be any of:<ul><li>The name of or a reference to an existing namespace that contains your endpoint code.</li><li>A file path to a folder that contains your endpoint code. In this case, <code>Jarvis</code> will load the contents of the folder into the namespace <code>#.CodeLocation</code>, similar to how <a href="https://dyalog.github.io/link">LINK</a> works.</li><li>The name of a file containing a namespace definition. In this case, <code>Jarvis</code> will use <code>⎕FIX</code> to load the namespace into <code>#</code> and set <code>CodeLocation</code> to a reference to the loaded namespace.</li></ul>After starting, <code>CodeLocation</code> is set to a reference to the namespace containing your endpoint code.</td>
</tr>
<tr>
<td>Default</td>
<td><code>'#'</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.CodeLocation←#.myEndpoints               ⍝ reference to namespace</code> <br><code>j.CodeLocation←'#.myEndpoints'             ⍝ name of namespace</code><br><code>j.Codelocation←'/home/me/myEndpoints'      ⍝ folder</code><br><code>j.CodeLocation←'/home/me/myEndpoints.apln' ⍝ file containing namespace definition</code></td>
</tr>
<tr>
<td>Notes</td>
<td>If the environment variable <code>DYALOG_JARVIS_CODELOCATION</code> exists, it will override any other setting for <code>CodeLocation</code>.</td>
</tr>
</tbody>
</table>
<h3 id="settings-operational-connectiontimeout"><code>ConnectionTimeout</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>ConnectionTimeout</code> specifies the the amount of time in seconds that a connection may be idle before being closed. <code>Jarvis</code> will not close a connection that is currently being serviced by a long-running endpoint.</td>
</tr>
<tr>
<td>Default</td>
<td><code>30</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.ConnectionTimeout←120 ⍝ 2 minute timeout</code></td>
</tr>
<tr>
<td>Notes</td>
<td><code>ConnectionTimeout</code> is used by <code>Jarvis</code>'s "housekeeping" to prevent inactive connections from accumulating.</td>
</tr>
</tbody>
</table>
<h3 id="settings-operational-debug"><code>Debug</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td>Setting <code>Debug</code> to a non-zero value will enable various types of debugging and reporting to take place. The valid values for <code>Debug</code> are:<ul><li><code>0</code> - all errors are trapped</li><li><code>1</code> - stop when an untrapped error occurs in either the endpoint code or the <strong>Jarvis</strong> framework itself.</li><li><code>2</code> - <code>Jarvis</code> will stop execution on the thread handling a request prior to any application code being executed.  This enables the user to debug their code "in situ".</li><li><code>4</code> - <code>Jarvis</code> will stop execution on the thread handling a request once the the request is completely received. This is used mostly for tracing and debugging <strong>Jarvis</strong> itself.</li><li><code>8</code> - <code>Jarvis</code> will display Conga events other than <code>'Timeout'</code> to the APL session.</li></ul><code>Debug</code> values are additive. For example <code>9</code> would stop on any error as well as enable Conga event reporting are</td>
</tr>
<tr>
<td>Default</td>
<td><code>0</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.Debug←2 ⍝ stop just before executing any user code</code></td>
</tr>
<tr>
<td>Notes</td>
<td>While it is possible to set <code>Debug</code> to <code>¯1</code> to enable all forms of debugging, be mindful that additional values for <code>Debug</code> may be added in the future and this could lead to unintended behavior.</td>
</tr>
</tbody>
</table>
<h3 id="settings-operational-defaultcontenttype"><code>DefaultContentType</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>DefaultContentType</code> specifies the HTTP content-type for <code>Jarvis</code>'s response if no content-type header has been specified by the user's endpoint code.</td>
</tr>
<tr>
<td>Default</td>
<td><code>'application/json; charset=utf-8'</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.DefaultContentType←'application/xml; charset=utf-8'</code></td>
</tr>
<tr>
<td>Notes</td>
<td><code>DefaultContentType</code> should only be set when most of the responses from your endpoints will have a content-type other than <code>'application/json'</code>. For individual responses that use a different content-type, set <code>request.ContentType</code>.</td>
</tr>
</tbody>
</table>
<h3 id="settings-operational-errorlevelinfo"><code>ErrorLevelInfo</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>ErrorLevelInfo</code> specifies how much information to include in the HTTP status message when an untrapped error occurs and <code>Jarvis</code> returns an HTTP status code of 500. Valid settings are:<ul><li><code>0</code> - do not include any information about the error</li><li><code>1</code> - include the APL error name (for example <code>VALUE ERROR</code>)</li><li><code>2</code> - include the function and line number where the error occurred.</li></ul></td>
</tr>
<tr>
<td>Default</td>
<td><code>1</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.ErrorInfoLevel←2 ⍝ include function name and line number</code></td>
</tr>
</tbody>
</table>
<h3 id="settings-operational-hostname"><code>Hostname</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>Hostname</code> is the name of the host that <code>Jarvis</code> will insert into the "host" header of the response. If a response payload from <code>Jarvis</code> needs to include URLs pointing to other endpoints within the service, <code>Hostname</code> can be used to construct those URLS.</td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code> which means that <code>Jarvis</code> will use the result of <code>2 ⎕NQ # 'TCPGetHostID'</code> (the IP address of the server on the local network)</td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.Hostname←'www.myJarvis.com'</code></td>
</tr>
<tr>
<td>Notes</td>
<td><code>2 ⎕NQ # 'TCPGetHostID'</code> returns the IP address on the local network, which isn't of much use if the client is accessing <code>Jarvis</code> from an external network. <code>Hostame</code> exists to address this problem by providing an external address to <code>Jarvis</code>.</td>
</tr>
</tbody>
</table>
<h3 id="settings-operational-httpauthentication"><code>HTTPAuthentication</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>HTTPAuthentication</code> indicates the HTTP authentication scheme that will be used to authenticate requests. Currently only HTTP Basic authentication is supported. Valid settings are:<ul><li><code>'basic'</code> to enable HTTP Basic authentication</li><li><code>''</code> to disable HTTP Basic authentication.</td>
</tr>
<tr>
<td>Default</td>
<td><code>'basic'</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.HTTPAuthentication←'' ⍝ disable HTTP basic authentication</code></td>
</tr>
<tr>
<td>Notes</td>
<td>See <a href="#security">HTTP Basic Authentication</a></td>
</tr>
</tbody>
</table>
<h3 id="settings-operational-jarvisconfig"><code>JarvisConfig</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>JarvisConfig</code> is the name of the JSON (or JSON5) file, if any, that contains your <strong>Jarvis</strong> configuration.</td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.JarvisConfig←'/home/myapp/jarvisconfig.json</code></td>
</tr>
<tr>
<td>Notes</td>
<td>If you specify a relative path to the <strong>Jarvis</strong> configuration file, <code>Jarvis</code> will consider it to be relative to the current working directory as returned by <code>1 ⎕NPARTS ''</code></td>
</tr>
</tbody>
</table>
<h3 id="settings-operational-loadablefiles"><code>LoadableFiles</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td>If <code>CodeLocation</code> specifies a folder from which to load your endpoints' code, <code>LoadableFiles</code> specifies a comma-delimited set of patterns to match when selecting files to load into workspace.</td>
</tr>
<tr>
<td>Default</td>
<td><code>'*.apl?,*.dyalog'</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.LoadableFiles←'*.apln,*.aplf,*.aplc'</code></td>
</tr>
<tr>
<td>Notes</td>
<td>Dyalog has evolved its "code in files" methodology. In its early days, the <code>.dyalog</code> extension was used almost exclusively. Over time, and with the advent of <a href="https://dyalog.github.io/link"><code>Link</code></a>, the common practice is to the use of file extension to indicate the particular type of APL object contained within the file - <code>.aplf</code> for a function, <code>.apln</code> for a namespace, <code>.aplc</code> for a class, and <code>.apla</code> for an array.</td>
</tr>
</tbody>
</table>
<h3 id="settings-operational-logging"><code>Logging</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>Logging</code> is a Boolean setting that determines whether <code>Jarvis</code> will display certain internal log messages to the session.</td>
</tr>
<tr>
<td>Default</td>
<td><code>1</code></td>
</tr>
<tr>
<td>Examples</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>j←Jarvis.New ''</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>j.Start ⍝ default is Logging←1</code><br><code>2024-12-06 @ 11.34.23.890 - Starting  Jarvis  1.18.4</code><br><code>2024-12-06 @ 11.34.23.913 - Conga copied from C:\Program Files\Dyalog\Dyalog APL-64 19.0 Unicode/ws/conga</code><br><code>2024-12-06 @ 11.34.23.915 - Local Conga v3.5 reference is #.Jarvis.[LIB]</code><br><code>2024-12-06 @ 11.34.23.923 - Jarvis starting in "JSON" mode on port 8080</code><br><code>2024-12-06 @ 11.34.23.927 - Serving code in #</code><br><code>2024-12-06 @ 11.34.23.931 - Click http://192.168.223.134:8080 to access web interface</code><br><code>0  Server started</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>j.Stop</code><br><code>2024-12-06 @ 11.34.35.564 - Stopping server...</code><br><code>0  Server stopped</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>j.Logging←0 ⍝ turn off logging</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>j.Start</code><br><code>0  Server started</code></td>
</tr>
<tr>
<td>Notes</td>
<td>The messages controlled by <code>Logging</code> are internal, operational, messages.<br>Request and HTTP logging capabilities will be available in a forthcoming <strong>Jarvis</strong> release.</td>
</tr>
</tbody>
</table>
<h3 id="settings-operational-paradigm"><code>Paradigm</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>Paradigm</code> specifies the mode in which <code>Jarvis</code> will operate. Current valid values are:<ul><li><code>'JSON'</code> to use the <a href="#json">JSON Paradign</a></li><li><code>'REST</code>' to use the <a href="#rest">REST Paradigm</a></li></ul></td>
</tr>
<tr>
<td>Default</td>
<td><code>'JSON</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.Paradigm←'REST'</code></td>
</tr>
<tr>
<td>Notes</td>
<td>You should set <code>Paradigm</code> before starting your <code>Jarvis</code> instance.</td>
</tr>
</tbody>
</table>
<h3 id="settings-operational-usezip"><code>UseZip</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>UseZip</code> is a Boolean that tells <code>Jarvis</code> whether to send a compressed response payload if the client will accept it as indicated by the "accept-encoding" header in the client request. Valid values are:<ul><li><code>0</code> - do not compress the response payload</li><li><code>1</code> use either "gzip" or "deflate" compression if the client will accept them</td>
</tr>
<tr>
<td>Default</td>
<td><code>0</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.UseZip←1</code></td>
</tr>
<tr>
<td>Notes</td>
<td>At present only "gzip" and "deflate" content-encodings are supported. <a href="#settings-operational-ziplevel"><code>ZipLevel</code></a> controls the level of compression employed.</td>
</tr>
</tbody>
</table>
<h3 id="settings-operational-ziplevel"><code>ZipLevel</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>ZipLevel</code> is an integer value between 0 and 9 and specifies the level of compression to use when <code>Jarvis</code> compresses the response payload (see <a href="#settings-operational-usezip"><code>UseZip</code></a>). Higher values result in a higher degree of compression albeit at the cost of performance.</td>
</tr>
<tr>
<td>Default</td>
<td><code>3</code> which seems to provide the best trade-off of compression versus speed.</td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.ZipLevel←6</code></td>
</tr>
</tbody>
</table></section><section class="print-page" id="settings-session"><p>A stateless web service means that each request from a client to the server is treated as an independent transaction that is unrelated to any previous request. In other words, the server does not store any information about the state of the client between requests. There are many good reasons for implementing a stateless web service including improved scalability, reliability, and independence. However, in some cases it may make sense to maintain some state on the server. <strong>Jarvis</strong>'s sessions are intended to allow you to maintain state in the server.</p>
<p>See <a href="#sessions">Using Sessions</a> for more information.</p>
<h3 id="settings-session-sessiontimeout"><code>SessionTimeout</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>SessionTimeout</code> controls whether <code>Jarvis</code> will use sessions. It also specifies how long before a session will time out and be removed. Valid settings are:<ul><li><code>0</code> - do not use sessions</li><li><code>n</code> - the number of minutes of inactivity before a session is timed out and removed</li><li><code>¯1</code> - use sessions without any timeout. In this case it is up to your code to manage any session timeouts.</li></ul></td>
</tr>
<tr>
<td>Default</td>
<td><code>0</code> - do not use sessions</td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.SessionTimeout←10 ⍝ timeout after 10 minutes of inactivity</code></td>
</tr>
</tbody>
</table>
<h3 id="settings-session-sessionidheader"><code>SessionIdHeader</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>SessionIdHeader</code> is the name of the HTTP header or HTTP cookie that will contain the session identifier. Every sessioned request must include this session ID in order to access the session state information on the server.</td>
</tr>
<tr>
<td>Default</td>
<td><code>'Jarvis-SessionID'</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.SessionIdHeader←'gandalf'</code></td>
</tr>
</tbody>
</table>
<h3 id="settings-session-sessionusecookie"><code>SessionUseCookie</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>SessionUseCookie</code> controls whether the session id is sent using an HTTP header or an HTTP cookie. In either case, the header or the cookie name will be specified by <code>SessionIdHeader</code>. Valid settings are:<ul><li><code>0</code> - use the HTTP header instead of a cookie</li><li><code>1</code> - use an HTTP cookie instead of the header</td>
</tr>
<tr>
<td>Default</td>
<td><code>0</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.SessionUseCookie←1 ⍝ use a cookie for the session id</code></td>
</tr>
<tr>
<td>Notes</td>
<td>Using an HTTP cookie can be more convenient, especially if the client is a browser. When <code>Jarvis</code> creates session it will send the cookie in its response and then the browser will automatically include the cookie in every subsequent request.</td>
</tr>
</tbody>
</table>
<h3 id="settings-session-sessionpollingtime"><code>SessionPollingTime</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>SessionPollingTime</code> controls how often, in minutes, <code>Jarvis</code> polls for timed-out sessions.</td>
</tr>
<tr>
<td>Default</td>
<td><code>1</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.SessionPollingTime←5</code></td>
</tr>
<tr>
<td>Notes</td>
<td>When using sessions, <code>Jarvis</code> starts a session monitor in a separate thread. The session monitor loops continuously checking for timed-out sessions. <code>SessionPollingTime</code> controls the time between each loop.</td>
</tr>
</tbody>
</table>
<h3 id="settings-session-sessioncleanuptime"><code>SessionCleanupTime</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>SessionCleanupTime</code> controls how often, in minutes, <code>Jarvis</code> purges remaining information about timed-out sessions.</td>
</tr>
<tr>
<td>Default</td>
<td><code>60</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.(SessionCleanupTime←SessionTimeout) ⍝ set to not retain any information after a session times out</code></td>
</tr>
<tr>
<td>Notes</td>
<td>When a session times out, <code>Jarvis</code> erases the namespace associated with the session, but leaves information about the session having existed. <code>SessionCleanupTime</code> determines when that remaining information is removed. The intent was to give you the opportunity to inform the client that their session timed out if they send a request after the session has timed out, but before the remaining information is expunged.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="settings-json"><p>These settings apply when using <strong>Jarvis</strong>'s JSON paradigm.</p>
<h3 id="settings-json-allowformdata"><code>AllowFormData</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>AllowFormData</code> controls whether <code>Jarvis</code> will accept requests with a content-type of <code>'multipart/form-data'</code>. This makes it more convenient when using a form in a web browser as the client or to upload a file. Valid settings are:<ul><li><code>1</code> - allow content-type <code>'multipart/form-data'</code></li><li><code>0</code> - Do not allow content-type <code>'multipart/form-data'</code></td>
</tr>
<tr>
<td>Default</td>
<td><code>0</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.AllowFormData←1 ⍝ enable multipart/form-data content</code></td>
</tr>
</tbody>
</table>
<h3 id="settings-json-allowgets"><code>AllowGETs</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>AllowGETs</code> controls whether <code>Jarvis</code> will accept HTTP GET requests to call endpoints. Normally, <code>Jarvis</code> will accept only HTTP POST requests to access an endpoint, but there may be cases when it's convenient to all simple requests using HTTP GET. Valid settings are:<ul><li><code>0</code> - do not allow HTTP GET requests</li><li><code>1</code> - allow HTTP GET requests</li></ul></td>
</tr>
<tr>
<td>Default</td>
<td><code>0</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.AllowGETs←1 ⍝ accept GET requests</code></td>
</tr>
<tr>
<td>Notes</td>
<td>Parameters to the endpoint being called should be specified using URL-encoded properly formatted JSON in the URL query string.  For instance, if you have a <code>sum←+/</code> endpoint and you want to sum the array <code>[1,2,3]</code>, you would need to use the endpoint and query string <code>/sum?%5B1%2C2%2C3%5D</code> (which is URL-encoded <code>/sum?[1,2,3]</code>).</td>
</tr>
</tbody>
</table>
<h3 id="settings-json-htmlinterface"><code>HTMLInterface</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>HTMLInterface</code> controls whether and how <code>Jarvis</code> will provide an HTML interface. Valid settings are:<ul><li><code>0</code> - do not enable the HTML interface</li><li><code>1</code> - enable the <strong>Jarvis</strong>'s built-in HTML interface</li><li><code>'path'</code> - a character vector naming a folder (or file) that contains the HTML content to serve. If <code>'path'</code> is a folder name, <code>Jarvis</code> will look for a file named "index.html" in that folder.</li><li><code>'' 'function'</code> - where <code>function</code> is the name of a monadic, result-returning function. The function is passed the <a href="#request"><code>Request</code></a> object and should return HTML content.</td>
</tr>
<tr>
<td>Default</td>
<td><code>1</code> if using JSON mode, <code>0</code> otherwise</td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.HTMLInterface←'/myjarvis/web/' ⍝ HTML content is in the folder /myjarvis/web/</code></td>
</tr>
</tbody>
</table>
<h3 id="settings-json-jsoninputformat"><code>JSONInputFormat</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>JSONInputFormat</code> controls the format of the request's JSON payload when converted to APL. Valid settings are:<ul><li><code>'D'</code> - return the payload as data</li><li><code>'M'</code> - return the payload in a matrix format.</li></ul>These settings are the same as the <code>'Format</code>' option for <code>⎕JSON</code>.</td>
</tr>
<tr>
<td>Default</td>
<td><code>D</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.JSONInputFormat←'M' ⍝ use the matrix inport format for ⎕JSON</code></td>
</tr>
<tr>
<td>Notes</td>
<td><code>JSONInputFormat</code> also has effect when using <strong>Jarvis</strong><code>s REST paradigm if [</code>ParsePayload<code>](./settings-rest.md#parsepayload) is set to</code>1`.</td>
</tr>
</tbody>
</table>
<h3 id="settings-json-report404inhtml"><code>Report404InHTML</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td>When a requested endpoint is not found, <code>Jarvis</code> will always respond by setting the response HTTP status code to <code>404</code> and HTTP status message to <code>'Not Found'</code>.  <code>Report404InHTML</code> controls whether <code>Jarvis</code> will also return a simple "not found" HTML page in its response payload. This is potentially useful when the client is a web browser. Valid settings are:<ul><li><code>1</code> - return a simple HTML page in the response payload indicating the requested endpoint was not found.  This is useful when the client connecting to <code>Jarvis</code> is a web browser.</li><li><code>0</code> - Do not return any information in the response payload.</td>
</tr>
<tr>
<td>Default</td>
<td><code>1</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.Report404←0 ⍝ disable sending the "not found" HTML page</code></td>
</tr>
<tr>
<td>Notes</td>
<td><code>Report404InHTML</code> has effect only if the <a href="#settings-json-htmlinterface"><code>HTMLInterface</code></a> is enabled.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="settings-rest"><p>These settings apply when using <strong>Jarvis</strong>'s REST paradigm.</p>
<h3 id="settings-rest-parsepayload"><code>ParsePayload</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>ParsePayload</code> controls whether <code>Jarvis</code> automatically convert JSON and XML request payload to an APL format using either <code>⎕JSON</code> or <code>⎕XML</code> as appropriate.Valid settings are:<ul><li><code>1</code> - convert JSON and/or XML payloads</li><li><code>0</code> - do not convert JSON and/or XML payloads</li></ul></td>
</tr>
<tr>
<td>Default</td>
<td><code>1</code> - parse JSON and XML payloads</td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.ParsePayload←0 ⍝ do not parse JSON and XML payloads</code></td>
</tr>
<tr>
<td>Notes</td>
<td>The format for parsed JSON payloads is controlled by <a href="#settings-json-jsoninputformat"><code>JSONInputFormat</code></a>.</td>
</tr>
</tbody>
</table>
<h3 id="settings-rest-restmethods"><code>RESTMethods</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>RESTMethods</code> specifies which HTTP methods will be supported by your REST web service. It is a comma-delimited character vector of HTTP method names and optionally, the name of the APL function that will service that HTTP method. Each comma-delimited segment consists of a case-insensitive HTTP method name (<code>'get' 'GET' 'gEt'</code> will all match GET). The method name can be optionally followed by a <code>'/'</code> and the function name which implements the handler for that HTTP method. If no function name is supplied, the function name will be the case-sensitive HTTP method.</td>
</tr>
<tr>
<td>Default</td>
<td><code>'Get,Post,Put,Delete,Patch,Options'</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.RESTMethods←'Get,post/handlePOST'</code><br>In this example our service will accept HTTP GET and POST requests.<ul><li>GET requests will be by a function named <code>Get</code></li><li>POST requests will be handled by a function called <code>handlePOST</code>.</li></ul></td>
</tr>
<tr>
<td>Notes</td>
<td><strong>Jarvis</strong> does not place a restriction on the HTTP method names, meaning that you could potentially invent your own "HTTP" methods.<br><code>j.RESTMethods←'Get,Bloofo' ⍝ allow GET and BLOOFO</code>.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="settings-hooks"><p>"Hook" functions are functions you write to inject custom behavior at specific points in <code>Jarvis</code>'s execution. You then assign the name of the function to the appropriate "hook". Hook functions can be located in <code>#.CodeLocation</code> - <code>Jarvis</code> will exclude them from being considered as endpoint functions. By default, no hook functions are defined; you need to define only the hook functions, if any, that are needed for your web service.</p>
<h3 id="settings-hooks-appclosefn"><code>AppCloseFn</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>AppCloseFn</code> is the name of the niladic, function to be called when <code>Jarvis</code> is stopped. This function could do things like closing database connections, managing log files, etc. The function may return a 2-element array of <code>(rc msg)</code> where <code>rc</code> is an integer return code (<code>0</code> means "okay") and <code>msg</code> is a character vector message. If the function does not return a result, the <code>Jarvis</code> will return the return code and message that was set prior to calling <code>AppCloseFn</code>.</td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.AppCloseFn←'ShutDown'</code></td>
</tr>
</tbody>
</table>
<h3 id="settings-hooks-appinitfn"><code>AppInitFn</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>AppInitFn</code> is the name of the monadic, result-returning function to be called when <code>Jarvis</code> is started. This function is called before <code>Jarvis</code> starts listening for requests. This function could do things like establishing database connections or other application initialization. The function should return a 2-element array of <code>(rc msg)</code> where <code>rc</code> is an integer return code (<code>0</code> means "okay") and <code>msg</code> is a character vector message. If the function is monadic, its right argument is a reference to the <code>Jarvis</code> instance.</td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.AppInitFn←'Startup'</code></td>
</tr>
<tr>
<td>Notes</td>
<td>If your function returns a non-<code>0</code> return code, <code>Jarvis</code> will exit.</td>
</tr>
</tbody>
</table>
<h3 id="settings-hooks-authenticatefn"><code>AuthenticateFn</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>AuthenticateFn</code> is the name of monadic, result-returning function to be called when you need to authenticate a request. The right argument to the function is the <a href="#request"><code>Request</code></a> instance. The function result should either be:<ul><li><code>0</code> - meaning that authentication was successful or that no authentication was necessary for this request</li><li><code>1</code> = meaning that authentication failed in which case <code>Jarvis</code> will fail the request with an HTTP status code of 401 (Unauthorized).</li></ul></td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.AuthenticateFn←'Authenticate'</code></td>
</tr>
<tr>
<td>Notes</td>
<td>See <a href="#security-authentication">Authentication</a> for more information about how to authenticate an HTTP request.</td>
</tr>
</tbody>
</table>
<h3 id="settings-hooks-postprocessfn"><code>PostProcessFn</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>PostProcessFn</code> is the name of monadic, non-result-returning function to be called <em>after</em> your endpoint has run but <em>before</em> the response is sent to the client. The right argument to the function is the <a href="#request"><code>Request</code></a> instance. The function should not return a result however, if it does, that result is ignored.<br>If you have some treatment that you need to apply to every response, <code>PostProcessFn</code> can be used to avoid having to add that treatment to every endpoint.</td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.PostProcessFn←'PostProcess'</code><br><br>&emsp;&emsp;&emsp;<code>∇ PostProcess req</code><br><code>[1]    'custom-header'req.SetHeader'some value' ⍝ add a custom header</code><br><code>[2]    req.Reponse.Payload.Message←'Have a nice day!' ⍝ modify the payload</code><br>&emsp;&emsp;&emsp;<code>∇</code></td>
</tr>
</tbody>
</table>
<h3 id="settings-hooks-sessioninitfn"><code>SessionInitFn</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>SessionInitFn</code> is the name of a monadic, result-returning function that can perform session initialization if your web service is using sessions. The right argument is the <a href="#request"><code>Request</code></a> instance, which we'll call <code>req</code>. The reference to the session namespace is <code>req.Session</code>. The integer function result should be either:<ul><li><code>0</code> - indicating that the session was successfully initialized</li><li>non-<code>0</code> - indicating session initialization failed; in which case <code>Jarvis</code> will fail the request with an HTTP status code of 500 ().</li></ul></td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.SessionInitFn←'InitSession</code></td>
</tr>
<tr>
<td>Notes</td>
<td>See <a href="#sessions">Using Sessions</a> for more information.</td>
</tr>
</tbody>
</table>
<h3 id="settings-hooks-validaterequestfn"><code>ValidateRequestFn</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>ValidateRequestFn</code> is the name of a monadic, result-returning function that will be called for every request that <code>Jarvis</code> receives. <code>ValidateRequestFn</code> gives you the opportunity to perform additional validation on a request. The right argument is the <a href="#request"><code>Request</code></a> instance. The function result should either be:<ul><li><code>0</code> - meaning that validation was successful or that no validation was necessary for this request</li><li><code>1</code> = meaning that validation failed in which case <code>Jarvis</code> will fail the request with an HTTP status code of 400 (Bad Request).</li></ul></td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.ValidateRequestFn←'Validate'</code></td>
</tr>
<tr>
<td>Notes</td>
<td>See <a href="#security-validation">Validation</a> for more information.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="settings-conga"><p><strong>Jarvis</strong> uses Conga for TCP/IP communications. <code>Jarvis</code>'s Conga settings are used to configure the Conga's operation. See the <a href="https://docs.dyalog.com/latest/Conga%20User%20Guide.pdf">Conga User Guide</a> for more detailed information on specific settings.</p>
<p>Once started, <code>Jarvis</code> maintains a reference to to Conga library in the <code>LDRC</code> field. This enables you to manage query and/or manage Conga settings directly if you need to.  For instance, <code>j.LDRC.Tree '.'</code> will return the entire Conga object tree.  </p>
<h3 id="settings-conga-acceptfrom"><code>AcceptFrom</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>AcceptFrom</code> allows you to limit <code>Jarvis</code> incoming connections to a specific set of IP address ranges. <code>AcceptFrom</code> is either one or two character vectors that specify IPV4 and/or IPV6 address ranges. Each vector is a comma-delimited set of IP ranges.</td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.AcceptFrom←'192.168.1.1/127,10.17.221.67/75'</code></td>
</tr>
<tr>
<td>Notes</td>
<td>This setting is documented as <code>AllowEndPoints</code> in the <a href="https://docs.dyalog.com/latest/Conga%20User%20Guide.pdf">Conga User Guide</a>. Unlike <code>AllowEndPoints</code>, you do not need to specify <code>'IPV4'</code> or <code>'IPV6'</code> as <code>Jarvis</code> can automatically determine which IP version is intended.</td>
</tr>
</tbody>
</table>
<h3 id="settings-conga-buffersize"><code>BufferSize</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>BufferSize</code> specifies the maximum HTTP headers length that <code>Jarvis</code> will accept. The intent is to block malicious requests that attempt to overwhelm the server by sending huge requests.</td>
</tr>
<tr>
<td>Default</td>
<td><code>10000</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.BufferSize←5000 ⍝ allow up to 5000 bytes of HTTP header data</code></td>
</tr>
<tr>
<td>Notes</td>
<td><code>BufferSize</code> can be used in conjunction with <a href="#settings-conga-doslimit"><code>DOSLimit</code></a> to mitigate Denial of Service (DOS) attacks.</td>
</tr>
</tbody>
</table>
<h3 id="settings-conga-denyfrom"><code>DenyFrom</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td>Similar to <a href="#settings-conga-acceptfrom"><code>AcceptFrom</code></a>, <code>DenyFrom</code> allows you to deny incoming connections from a specific set of IP address ranges. <code>DenyFrom</code> is either one or two character vectors that specify IPV4 and/or IPV6 address ranges. Each vector is a comma-delimited set of IP ranges.</td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.DenyFrom←'192.168.1.1/127,10.17.221.67/75'</code></td>
</tr>
<tr>
<td>Notes</td>
<td>This setting is documented as <code>DenyEndPoints</code> in the <a href="https://docs.dyalog.com/latest/Conga%20User%20Guide.pdf">Conga User Guide</a>. Unlike <code>DenyEndPoints</code>, you do not need to specify <code>'IPV4'</code> or <code>'IPV6'</code> as <code>Jarvis</code> can automatically determine which IP version is intended.</td>
</tr>
</tbody>
</table>
<h3 id="settings-conga-doslimit"><code>DOSLimit</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td>To reduce possible Denial Of Service (DOS) attacks, <code>DOSLimit</code> is used to limit the size of HTTP payloads that <code>Jarvis</code> will accept.</td>
</tr>
<tr>
<td>Default</td>
<td><code>¯1</code> which indicates to use the Conga default value of 10485760</td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.DOSLimit←100000 ⍝ assumes no message will exceed 100000 bytes</code></td>
</tr>
<tr>
<td>Notes</td>
<td>You should specify a <code>DOSLimit</code> large enough to accept the largest message you anticipate receiving.</td>
</tr>
</tbody>
</table>
<h3 id="settings-conga-fifo"><code>FIFO</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>FIFO</code> controls how Conga will process incoming requests. Setting <code>FIFO</code> to <code>1</code> will cause Conga to process requests in a "First In, First Out" order. Setting <code>FIFO</code> to <code>0</code> will cause Conga to process requests according to Conga's <code>ReadyStrategy</code> setting.</td>
</tr>
<tr>
<td>Default</td>
<td><code>1</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.FIFO←0 ⍝ turn FIFO mode off</code></td>
</tr>
<tr>
<td>Notes</td>
<td>This setting is documented as <code>EnableFifo</code> in the <a href="https://docs.dyalog.com/latest/Conga%20User%20Guide.pdf">Conga User Guide</a>.</td>
</tr>
</tbody>
</table>
<h3 id="settings-conga-port"><code>Port</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>Port</code> is port number that <code>Jarvis</code> will listen on.</td>
</tr>
<tr>
<td>Default</td>
<td><code>8080</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.Port←22361</code></td>
</tr>
<tr>
<td>Notes</td>
<td>Allocating ports below 1024 on Linux typically requires root privileges due to security reasons.</td>
</tr>
</tbody>
</table>
<h3 id="settings-conga-rootcertdir"><code>RootCertDir</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td>When running <code>Jarvis</code> over HTTPS, <code>RootCertDir</code> is the path to a folder containing public root certificates.</td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code></td>
</tr>
<tr>
<td>Examples</td>
<td>Set <code>RootCertDir</code> to the public root certificates folder installed with Dyalog.<br><code>dir←1 1⊃1 ⎕NPARTS 2 ⎕NQ '.' 'GetCommandLineArgs'</code><br><code>j.RootCertDir←dir,'PublicCACerts'</code></td>
</tr>
<tr>
<td>Notes</td>
<td>This setting is documented as <code>RootCertDir</code> in the <a href="https://docs.dyalog.com/latest/Conga%20User%20Guide.pdf">Conga User Guide</a>. See <a href="#security"><code>Security</code></a> for more information.</td>
</tr>
</tbody>
</table>
<h3 id="settings-conga-priority"><code>Priority</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>Priority</code> is the <a href="https://www.gnutls.org/manual/gnutls.html#Priority-Strings">GnuTLS priority string</a> when using secure communications. <code>Priority</code> specifies the TLS session's handshake algorithms when negotiating a secure connection.</td>
</tr>
<tr>
<td>Default</td>
<td>'NORMAL:!CTYPE-OPENPGP'</td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.Priority←'NORMAL:-MD5' ⍝ use the default without HMAC-MD5</code></td>
</tr>
<tr>
<td>Notes</td>
<td>Setting <code>Priority</code> to something other than the default requires an in-depth understanding of TLS session negotiation. Don't change it unless you know know what you're doing.</td>
</tr>
</tbody>
</table>
<h3 id="settings-conga-secure"><code>Secure</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>Secure</code> is a Boolean setting that controls whether <code>Jarvis</code> will use TLS. Valid settings are:<ul><li><code>0</code> - do not use TLS</li><li><code>1</code> - attempt to use TSL (see notes below)</li></ul></td>
</tr>
<tr>
<td>Default</td>
<td><code>0</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.Secure←1 ⍝ enable secure communications</code></td>
</tr>
<tr>
<td>Notes</td>
<td>Using TLS requires configuring several settings, see <a href="#security-usingtls">Using TLS</a>.</td>
</tr>
</tbody>
</table>
<h3 id="settings-conga-servercertski"><code>ServerCertSKI</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td>Under Windows, when using the Microsoft Certificate Store to obtain the server certificate for <code>Jarvis</code> to use, <code>ServerCertSKI</code> is the <strong>Serv</strong>er <strong>Cert</strong>ificate <strong>S</strong>ubject <strong>K</strong>ey <strong>I</strong>dentifier of the certificate.</td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.ServerCertSKI←'aca7d8f00691129ea0bc3613a00ed8ea9a5e55f5'</code></td>
</tr>
<tr>
<td>Notes</td>
<td>The subject key identifier is a 40 byte hexadecimal string. For more information, see <a href="#security-usingtls">Using TLS</a>.</td>
</tr>
</tbody>
</table>
<h3 id="settings-conga-servercertfile"><code>ServerCertFile</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>ServerCertFile</code> is the name of the file containing the server's public certificate.</td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.ServerCertFile←'/etc/mycerts/publiccert.pem'</code></td>
</tr>
<tr>
<td>Notes</td>
<td>For more information, see <a href="#security-usingtls">Using TLS</a>.</td>
</tr>
</tbody>
</table>
<h3 id="settings-conga-serverkeyfile"><code>ServerKeyFile</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>ServerKeyFile</code> is the name of the file containing the server's private key.</td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.ServerKeyFile←'/etc/mycerts/privatekey.pem'</code></td>
</tr>
<tr>
<td>Notes</td>
<td><strong>Never</strong> share your private key file. For more information, see <a href="#security-usingtls">Using TLS</a>.</td>
</tr>
</tbody>
</table>
<h3 id="settings-conga-servername"><code>ServerName</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>ServerName</code> is the Conga name for the <code>Jarvis</code> server. You can specify the name or have it Conga assign it.</td>
</tr>
<tr>
<td>Default</td>
<td>Assigned by Conga in the format <code>'SRVnnnnnnnn'</code> where <code>nnnnnnnn</code> begins at <code>00000000</code> and is incremented when a <code>Jarvis</code> server using the same Conga instance is started.</td>
</tr>
<tr>
<td>Examples</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>)copy conga Conga</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>j1←Jarvis.New 8080</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>j2←Jarvis.New 8081</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>j3←Jarvis.New 8082</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>j3.ServerName←'MyJarvis'</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>(j1 j2 j3).Start</code><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>(j1 j2 j3).ServerName</code><br><code>SRV00000000  SRV00000001  MyJarvis</code></td>
</tr>
<tr>
<td>Notes</td>
<td><code>ServerName</code> can be useful when interacting with Conga, particularly when debugging. For example:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>j3.(LDRC.Describe ServerName)</code><br><code>0   MyJarvis  Server  Listen</code><br><a href="#settings-shared-ldrc"><code>LDRC</code></a> is <code>Jarvis</code>'s local reference to the Conga library.</td>
</tr>
</tbody>
</table>
<h3 id="settings-conga-sslvalidation"><code>SSLValidation</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>SSLValidation</code> is employed as part of the certificate checking process and is more fully documented in the <a href="https://docs.dyalog.com/latest/Conga%20User%20Guide.pdf">Conga User Guide</a>.</td>
</tr>
<tr>
<td>Default</td>
<td><code>64</code> - request but do not require a client certificate</td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.SSLValidation←128 ⍝ require a valid certificate</code></td>
</tr>
<tr>
<td>Notes</td>
<td>For more information, see <a href="#security-usingtls">Using TLS</a>.</td>
</tr>
</tbody>
</table>
<h3 id="settings-conga-waittimeout"><code>WaitTimeout</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>WaitTimeout</code> is the number of milliseconds that <code>Jarvis</code> will wait in its listening loop before timing out.</td>
</tr>
<tr>
<td>Default</td>
<td><code>15000</code> - 15 seconds</td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.WaitTimeout←60000 ⍝ wait a minute before timing out</code></td>
</tr>
<tr>
<td>Notes</td>
<td>Conga servers sit in a "wait" loop listening for communications from clients. If no communications occur before <code>WaitTimeout</code> has passed, Conga will signal a "Timeout" event and reiterate the "wait" loop.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="settings-cors"><p>CORS, or Cross-Origin Resource Sharing, is a security feature implemented by web browsers to control how resources on a web page can be requested from another domain outside the domain from which the resource originated. It helps prevent malicious websites from accessing sensitive data on other websites.</p>
<p>When a web page makes a request to a different domain (cross-origin request), the browser checks if the server allows such requests by looking at the CORS headers in the server's response. If the headers indicate that the request is allowed, the browser permits the resource to be accessed; otherwise, it blocks the request.</p>
<p>CORS is essential for enabling secure communication between different web applications and APIs while protecting users from potential security risks.</p>
<p>Without modification, <strong>Jarvis</strong>'s default CORS settings will allow most CORS requests. For more information about CORS, see <a href="https://developer.mozilla.org/docs/Web/HTTP/CORS">CORS</a>.</p>
<h3 id="settings-cors-enablecors"><code>EnableCORS</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>EnableCORS</code> is a Boolean setting which enables or disables CORS support in <code>Jarvis</code>. Valid values are:<ul><li><code>0</code> - disable CORS support</li><li><code>1</code> - enable CORS support</li></ul></td>
</tr>
<tr>
<td>Default</td>
<td><code>1</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.EnableCORS←0 ⍝ disable CORS support</code></td>
</tr>
</tbody>
</table>
<h3 id="settings-cors-cors_origin"><code>CORS_Origin</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>CORS_Origin</code> specifies the domains from which requests are allowed. Valid values are:<ul><li><code>'*'</code> to allow requests from all domains</li><li><code>1</code> - to "reflect" whatever origin is specified in the request's "origin" header</li><li>a domain from which requests will be accepted</li></ul></td>
</tr>
<tr>
<td>Default</td>
<td><code>'*'</code> - requests from all domains are allowed.</td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.CORS_Origin←'https://foo.example' ⍝ allow requests only from https://foo.example</code></td>
</tr>
</tbody>
</table>
<h3 id="settings-cors-cors_methods"><code>CORS_Methods</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>CORS_Methods</code> controls which HTTP methods that will be allowed in cross-origin requests. Valid values are:<ul><li><code>¯1</code>which means <code>Jarvis</code> will allow HTTP methods based on the paradigm being used:<ul><li>JSON - <code>'GET,POST,OPTIONS'</code></li><li>REST - whatever methods you have specified in <a href="#settings-rest-restmethods"><code>RESTMethods</code></a></li></ul></li><li><code>1</code> which means allow the method specified in the request's <code>Access-Control-Request-Method</code> header</li><li>a comma-delimited list of methods to allow.</li></ul></td>
</tr>
<tr>
<td>Default</td>
<td><code>¯1</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.CORS_Methods←'GET,POST'</code></td>
</tr>
<tr>
<td>Notes</td>
<td>This setting applies only to <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#preflighted_requests">preflighted requests</a>. You may also directly set the <code>Access-Control-Allow-Methods</code> header, which will override the <code>CORS_Methods</code> setting.</td>
</tr>
</tbody>
</table>
<h3 id="settings-cors-cors_headers"><code>CORS_Headers</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>CORS_Headers</code> controls what additional headers will be allowed in a CORS request. Valid values are:<ul><li><code>'*'</code> which means any headers will be allowed</li><li><code>1</code> which will allow any header names specified in the request's <code>Access-Control-Request-Headers</code> header </li><li>a string of comma-delimited header names</li></ul> is a comma-delimited string specifies what additional HTTP response headers will be exposed</td>
</tr>
<tr>
<td>Default</td>
<td><code>'*'</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.CORS_Headers←'X-Custom-Header'</code></td>
</tr>
<tr>
<td>Notes</td>
<td>By default, only the <a href="https://developer.mozilla.org/en-US/docs/Glossary/CORS-safelisted_response_header">CORS-safelisted response headers</a> are exposed to the client. This setting applies only to <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#preflighted_requests">preflighted requests</a>. You may also directly set the <code>Access-Control-Allow-Headers</code> header, which will override the <code>CORS_Headers</code> setting.</td>
</tr>
</tbody>
</table>
<h3 id="settings-cors-cors_maxage"><code>CORS_MaxAge</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>CORS_MaxAge</code> indicates, in seconds, how long the results of a preflight request can be cached.</td>
</tr>
<tr>
<td>Default</td>
<td><code>60</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>j.CORS_MaxAge←600 ⍝ set to 10 minutes (600 seconds)</code></td>
</tr>
<tr>
<td>Notes</td>
<td>This setting applies only to <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#preflighted_requests">preflighted requests</a>. You may also directly set the <code>Access-Control-Max-Age</code> header, which will override the <code>CORS_MaxAge</code> setting.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="settings-container"><p>Most Jarvis configuration options should be set using a Jarvis configuration file. A few environment variables are particularly useful in the context of running Jarvis in a container.</p>
<h3 id="settings-container-dyalog_jarvis_port"><code>DYALOG_JARVIS_PORT</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td>If set, <code>DYALOG_JARVIS_PORT</code> is the port that the <strong>Jarvis</strong> container will listen on. It overrides both the <code>Jarvis</code> default and any port specified in the <code>Jarvis</code> configuration.</td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>DYALOG_JARVIS_PORT=8888</code></td>
</tr>
<tr>
<td>Notes</td>
<td><code>DYALOG_JARVIS_PORT</code> allows you to specify different port numbers for each instance of the <strong>Jarvis</strong> container.</td>
</tr>
</tbody>
</table>
<h3 id="settings-container-dyalog_jarvis_codelocation"><code>DYALOG_JARVIS_CODELOCATION</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td>If set, <code>DYALOG_JARVIS_CODELOCATION</code> is the path to a folder containing your <code>Jarvis</code> endpoint code.</td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>DYALOG_JARVIS_CODELOCATION=/myJarvisApp</code></td>
</tr>
</tbody>
</table>
<h3 id="settings-container-dyalog_jarvis_thread"><code>DYALOG_JARVIS_THREAD</code></h3>
<table>
<tbody>
<tr>
<td>Description</td>
<td><code>DYALOG_JARVIS_THREAD</code> controls which thread <code>Jarvis</code> will run on. Valid values are:<ul><li><code>0</code> - run in thread 0</li><li><code>1</code> - run in a separate thread, use <code>⎕TSYNC</code> to wait for result from <code>Server</code> thereby preventing from starting and then immediately signing off</li><li><code>'debug'</code> - run in a separate thread, return thread 0 to immediate execution</li><li><code>''</code> or <code>'auto'</code> - if running with an interactive terminal, use <code>'debug'</code> otherwise use <code>1</code></li></ul></td>
</tr>
<tr>
<td>Default</td>
<td><code>''</code></td>
</tr>
<tr>
<td>Examples</td>
<td><code>DYALOG_JARVIS_THREAD=1</code></td>
</tr>
<tr>
<td>Notes</td>
<td>If you need to debug your <strong>Jarvis</strong> service in a container, you can configure Dyalog to use <a href="https://dyalog.github.io/ride/">RIDE</a> and set <code>DYALOG_JARVIS_THREAD</code> to any of <code>debug</code>, <code>''</code> or <code>'auto'</code> to remotely access your <strong>Jarvis</strong> service.</td>
</tr>
</tbody>
</table></section><h1 class='nav-section-title-end'>Ended: Settings</h1>
                        <h2 class='nav-section-title' id='section-methods'>
                            Methods <a class='headerlink' href='#section-methods' title='Permanent link'>↵</a>
                        </h2>
                        <h1 class='nav-section-title-end'>Ended: Methods</h1><h1 class='nav-section-title-end'>Ended: Reference</h1>
                        <h1 class='nav-section-title' id='section-advanced-topics'>
                            Advanced Topics <a class='headerlink' href='#section-advanced-topics' title='Permanent link'>↵</a>
                        </h1>
                        <h1 class='nav-section-title-end'>Ended: Advanced Topics</h1>
                        <h1 class='nav-section-title' id='section-about'>
                            About <a class='headerlink' href='#section-about' title='Permanent link'>↵</a>
                        </h1>
                        <section class="print-page" id="license"><p>MIT License</p>
<p>Copyright (c) 2021 Dyalog</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p></section><h1 class='nav-section-title-end'>Ended: About</h1></div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <div class="left">Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"><strong>Material for MkDocs</strong></a>.&nbsp;</div><div class="right">Contents copyright &copy;2015-2024 <strong><a href="https://dyalog.com" target="_blank" rel="noopener">Dyalog, LTD</a></strong></div>
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "/", "features": ["navigation.sections", "navigation.instant", "content.footnote.tooltips", "navigation.path", "navigation.indexes"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
    
    
  </body>
</html>